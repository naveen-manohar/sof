#
# Simple Machine - High level topology - Maps to machine driver.
#
# PCM 0 <-> copier.host.N.0 <-> copier.DMIC.0.M <-> DMIC0
#

<include/common/tokens.conf>
<include/pipelines/cavs/pipeline-passthrough-playback.conf>
<include/pipelines/cavs/pipeline-passthrough-capture.conf>
<include/common/connection.conf>
<include/common/endpoint.conf>
<include/dais/dmic.conf>

#
# Pipeline definitions
#

# Pipeline ID:1 PCM ID: 0

Object.pipeline-passthrough-capture."1.0" {
	pcm_name	"dmic48k"
	format		"s24le"
	channels	2
	rate		48000
}

#
# List of all DAIs
#
#DMIC Index: 0, Direction: duplex

Object.DMIC."1.0.capture" {
	dai_name		"dmic01"
	id 			6
	format			"s24le"
	driver_version		1
	clk_min			500000
	clk_max			4800000
	duty_min		40
	duty_max		60
	sample_rate		48000
	fifo_word_length	32
	unmute_ramp_time_ms	200
	num_pdm_active		1

	hw_config."0" {
		clk_min		500000
		clk_max		4800000
		duty_min	40
		duty_max	60
	}

	<include/dais/pipe-copier-capture.conf>
}

#
# List of all endpoint connections
#

Object.connection."endpoint.1.0" {
	sink "endpoint.source.pipeline.1.0"
	source "endpoint.sink.DMIC.1.0"
}

#add abi
<include/common/data.conf>
<include/common/manifest.conf>
<abi-generated.conf>
